---
# file: group_vars/web
deploy_debian_channel: http://localhost /
deploy_packages:
    - queroservoluntario
    - meublog

sites:
  - name: packages
    server_name: localhost
    port: 80
    root: /var/www/packages
    php_enabled: false
    php_params: []

  - name: eher
    server_name: eher.com.br
    port: 80
    root: /var/www/eher
    php_enabled: true
    php_params: []

  - name: meublog
    server_name: meublog.com
    port: 80
    root: /var/www/meublog
    php_enabled: true
    php_params: []

  - name: queroservoluntario
    server_name: queroservoluntario.com
    port: 80
    root: /var/www/queroservoluntario/web
    php_enabled: true
    php_params:
      - SYMFONY__DATABASE__DRIVER pdo_mysql
      - SYMFONY__DATABASE__NAME queroservoluntario
      - SYMFONY__DATABASE__USER root
      - SYMFONY__DATABASE__PASSWORD "{{ root_db_password }}"
      - SYMFONY__DATABASE__SOCKET /var/run/mysqld/mysqld.sock
      - SYMFONY__MAILER__TRANSPORT smtp
      - SYMFONY__MAILER__HOST fake_value
      - SYMFONY__MAILER__PORT fake_value
      - SYMFONY__MAILER__USER fake_value
      - SYMFONY__MAILER__PASSWORD fake_value
      - SYMFONY__MAILER__AUTH__MODE login
      - SYMFONY__MAILER__ENCRYPTION tls
      - SYMFONY__FRAMEWORK__LOCALE en
      - SYMFONY__FRAMEWORK__SECRET "{{ framework_secret }}"
      - SYMFONY__APONTADOR__API__BASEURL "http://api.apontador.com/v1/"
      - SYMFONY__APONTADOR__API__CONSUMERKEY fake_value
      - SYMFONY__APONTADOR__API__CONSUMERSECRET fake_value
      - SYMFONY__ADMIN__WEB__USER admin
      - SYMFONY__ADMIN__WEB__PASSWORD "{{ queroservoluntario_admin_password }}"
      - SYMFONY__CONTACT__EMAIL "tequeremosvoluntario@gmail.com"

framework_secret: "{{ lookup('password', '../../../credentials/queroservoluntario/framework_secret length=32') }}"
queroservoluntario_admin_password: "{{ lookup('password', '../../../credentials/queroservoluntario/admin_password length=5') }}"
